{"id":"agent-zero-06r","title":"Implement Run Catalogue page","description":"Create the main landing page listing all published runs.\n\n**Route:** /runs (also serves as home page)\n\n**Features:**\n- Read runs/index.json and display as table/cards\n- Show for each run:\n  - Run ID (linked to detail page)\n  - Creation date\n  - Year range\n  - Assumptions pack name + version\n  - Scenario pack name (if any)\n  - Engine version\n- Filter by: assumptions pack, scenario pack, date range\n- Sort by: date (default), run ID\n- Search box for quick filtering\n\n**Components:**\n- RunCard.svelte or RunRow.svelte\n- FilterPanel.svelte\n- SearchBox.svelte\n\n**Depends on:** agent-zero-vyl (SvelteKit setup), agent-zero-giy (export-web)\n\n**Effort:** M (2-4h)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-30T11:48:04.74454+11:00","updated_at":"2025-11-30T12:20:31.608994+11:00","closed_at":"2025-11-30T12:20:31.608994+11:00"}
{"id":"agent-zero-0h8","title":"Consolidate driver schemas between web bundle and story tools","description":"**Problem:**\nThere are two different Driver schemas causing potential confusion:\n\n1. **Web bundle schema** (`web/src/lib/types/index.ts`):\n```typescript\ninterface Driver {\n  factor: string;\n  contribution: number;\n  direction: 'positive' | 'negative' | 'neutral';\n  explanation: string;\n  related_params: string[];\n  related_agents: string[];\n}\n```\n\n2. **Story tools schema** (`docs/story_data_products_schema.md`):\n```typescript\ninterface Driver {\n  factor: string;\n  contribution: number;\n  direction: 'positive' | 'negative';\n  explanation: string;\n  evidence: string[];\n}\n```\n\n**Issues:**\n- Web schema has `related_params`/`related_agents`, story schema has `evidence`\n- Web schema allows 'neutral' direction, story schema doesn't\n- Different fields cause confusion about what drivers.json should contain\n\n**Resolution options:**\n\n**Option A (Recommended): Extend web schema to include evidence**\n```typescript\ninterface Driver {\n  factor: string;\n  contribution: number;\n  direction: 'positive' | 'negative' | 'neutral';\n  explanation: string;\n  related_params: string[];\n  related_agents: string[];\n  evidence?: string[];  // Optional, added by story generation\n}\n```\n\n**Option B: Separate files**\n- Keep `drivers.json` for web bundle (basic drivers)\n- Add `drivers_story.json` for enriched story drivers with evidence\n\n**Tasks:**\n1. Decide on approach (recommend Option A)\n2. Update `docs/web_bundle_schema.md` with consolidated schema\n3. Update `docs/story_data_products_schema.md` to reference web schema\n4. Update TypeScript types in `web/src/lib/types/index.ts`\n5. Update story tools to use consistent field names\n\n**Files to modify:**\n- docs/web_bundle_schema.md\n- docs/story_data_products_schema.md\n- web/src/lib/types/index.ts\n- src/agent_zero/story/tools.py\n\n**Effort:** S-M (1-2h)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T11:14:21.798167+11:00","updated_at":"2025-12-01T12:40:05.41122+11:00","closed_at":"2025-12-01T12:40:05.41122+11:00"}
{"id":"agent-zero-0xv","title":"Implement Agent Catalogue view","description":"Create agent catalogue listing all agents in a run.\n\n**Route:** /runs/{run_id}/agents\n\n**Features:**\n1. **Agent List**\n   - Group by agent type (Producer, Regulator, Consumer)\n   - Show count per type\n   - Cards or table with agent_id, region, tech\n\n2. **Type Summary**\n   - Aggregate stats per agent type\n   - Total capacity, total investment\n   - Dominant action (invest/retire/hold)\n\n3. **Search/Filter**\n   - Filter by type, region, tech\n   - Search by agent_id\n\n4. **Links**\n   - Click agent → Agent Detail page\n\n**Data source:** agents.json from web bundle\n\n**Components:**\n- AgentTypeCard.svelte\n- AgentList.svelte\n- AgentSearch.svelte\n\n**Effort:** M (2-4h)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-30T11:51:05.903064+11:00","updated_at":"2025-11-30T14:35:23.31142+11:00","closed_at":"2025-11-30T14:35:23.31142+11:00"}
{"id":"agent-zero-11f","title":"Rename Data tab to Results with Outputs badge","description":"Rename the 'Data' tab label to 'Results' in +layout.svelte. Update the heading in data/+page.svelte to 'Simulation Results' with copy clarifying these are model outputs not inputs. Optionally add a small 'Outputs' badge/pill next to the title. This helps users distinguish outputs from input assumptions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T18:45:08.688023+11:00","updated_at":"2025-11-30T18:58:20.950866+11:00","closed_at":"2025-11-30T18:58:20.950866+11:00"}
{"id":"agent-zero-1ai","title":"Create results.schema.json for validation","description":"Create custom schema JSON file defining:\n- Required columns and types for timeseries and agent_states\n- Constraints: capacity \u003e= 0, price \u003e= 0, demand \u003e= 0, supply \u003e= 0\n- Required fields for summary.json and manifest.yaml\n- Semantic warnings (negative emissions allowed but flagged)\n\nLocation: src/agent_zero/post/results.schema.json\n\nEffort: M (1-3h)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-30T10:22:44.55691+11:00","updated_at":"2025-11-30T10:34:09.950825+11:00","closed_at":"2025-11-30T10:34:09.950825+11:00","dependencies":[{"issue_id":"agent-zero-1ai","depends_on_id":"agent-zero-98j","type":"blocks","created_at":"2025-11-30T10:22:44.558615+11:00","created_by":"gre538"},{"issue_id":"agent-zero-1ai","depends_on_id":"agent-zero-ar9","type":"blocks","created_at":"2025-11-30T10:22:44.559331+11:00","created_by":"gre538"},{"issue_id":"agent-zero-1ai","depends_on_id":"agent-zero-9gj","type":"blocks","created_at":"2025-11-30T10:22:44.559827+11:00","created_by":"gre538"},{"issue_id":"agent-zero-1ai","depends_on_id":"agent-zero-m96","type":"blocks","created_at":"2025-11-30T10:22:44.560299+11:00","created_by":"gre538"}]}
{"id":"agent-zero-1na","title":"Theme inconsistency: Home/Runs dark theme vs Scenarios/Assumptions light theme","description":"","status":"closed","priority":2,"issue_type":"bug","created_at":"2025-12-01T14:33:10.081916+11:00","updated_at":"2025-12-01T14:41:53.925317+11:00","closed_at":"2025-12-01T14:41:53.925317+11:00"}
{"id":"agent-zero-24a","title":"Implement multi-run comparison page","description":"Create scenario comparison page for side-by-side analysis.\n\n**Route:** /compare?baseline={id}\u0026scenarios={id1,id2,...}\n\n**Features:**\n1. **Run Selection Panel**\n   - Select baseline run from dropdown\n   - Add scenario runs (multi-select)\n   - Quick links from Run Catalogue\n\n2. **Overlay Charts**\n   - Same metrics as Data Explorer\n   - Multiple lines per run with legend\n   - Toggle runs on/off\n\n3. **Difference View**\n   - Show delta from baseline (absolute and %)\n   - Heatmap of differences by metric and year\n\n4. **Uncertainty Bands**\n   - Display qualitative uncertainty where available\n   - Shaded regions on charts\n\n5. **Export**\n   - Download comparison as CSV\n   - Export chart as PNG\n\n**Components:**\n- RunSelector.svelte\n- OverlayChart.svelte\n- DifferenceHeatmap.svelte\n- ComparisonExport.svelte\n\n**Effort:** L (4-6h)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-30T11:50:21.755196+11:00","updated_at":"2025-11-30T13:45:10.384009+11:00","closed_at":"2025-11-30T13:45:10.384009+11:00"}
{"id":"agent-zero-24o","title":"Implement Scenario Diff view","description":"Create scenario diff page showing what changed from baseline.\n\n**Route:** /runs/{run_id}/diff\n\n**Features:**\n1. **Diff Table**\n   - Show assumptions that differ from baseline\n   - Columns: param, region, sector, tech, year, baseline_value, scenario_value, delta, rationale\n   - Colour coding: green (↑), red (↓), blue (new)\n   - Group by category (policy, technology, demand)\n\n2. **Visual Summary**\n   - Cards showing count of changes by type\n   - Pie chart of changes by category\n\n3. **Filter/Search**\n   - Filter by region, sector, param type\n   - Search box\n\n**Data source:** scenario_diff.json from web bundle\n\n**Components:**\n- DiffTable.svelte\n- DiffSummaryCards.svelte\n- DiffChart.svelte\n\n**Effort:** M (2-4h)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-30T11:50:07.237996+11:00","updated_at":"2025-11-30T13:34:46.803974+11:00","closed_at":"2025-11-30T13:34:46.803974+11:00"}
{"id":"agent-zero-2ha","title":"Implement Run Detail page","description":"Create the run detail page showing overview and navigation.\n\n**Route:** /runs/{run_id}\n\n**Sections:**\n1. **Metadata Panel**\n   - Run ID (copyable)\n   - Years simulated\n   - Assumptions pack (link to /assumptions/{pack})\n   - Scenario pack (link to /scenarios/{pack})\n   - Engine version + commit hash\n   - Random seed\n   - Creation timestamp\n\n2. **Reproduction Block**\n   - Exact CLI command to reproduce (copyable)\n   - Links to download input packs\n\n3. **Quick Summary**\n   - Key metrics as cards (total emissions, capacity, cost)\n   - Read from summary.json\n\n4. **Navigation Tabs**\n   - Story, Data, Agents, Assumptions, Download\n\n**Components:**\n- MetadataPanel.svelte\n- ReproductionBlock.svelte\n- MetricCard.svelte\n- TabNavigation.svelte\n\n**Depends on:** agent-zero-06r (Run Catalogue)\n\n**Effort:** M-L (3-5h)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-30T11:48:17.949048+11:00","updated_at":"2025-11-30T12:25:22.197074+11:00","closed_at":"2025-11-30T12:25:22.197074+11:00"}
{"id":"agent-zero-2we","title":"Add tests for results validation","description":"Add unit and integration tests for validation:\n\n1. Validator unit tests:\n   - Happy path: valid bundle passes with no errors\n   - Missing columns: drop supply from timeseries -\u003e expect error\n   - Negative emissions: expect warning, not error\n   - Negative price: expect error\n   - Missing required manifest fields: expect error\n\n2. CLI integration tests:\n   - Run validate-results on known-good run directory -\u003e exit 0\n   - Run validate-results on known-bad run directory -\u003e exit 1\n\nEffort: L (3-6h)","status":"closed","priority":3,"issue_type":"task","created_at":"2025-11-30T10:23:34.02725+11:00","updated_at":"2025-11-30T10:40:39.21606+11:00","closed_at":"2025-11-30T10:40:39.21606+11:00","dependencies":[{"issue_id":"agent-zero-2we","depends_on_id":"agent-zero-am6","type":"blocks","created_at":"2025-11-30T10:23:34.029225+11:00","created_by":"gre538"},{"issue_id":"agent-zero-2we","depends_on_id":"agent-zero-8aq","type":"blocks","created_at":"2025-11-30T10:23:34.030095+11:00","created_by":"gre538"}]}
{"id":"agent-zero-37a","title":"Epic: AgentZero Web Application","description":"Web application frontend for AgentZero simulation platform.\n\n**Goal:** Enable policy analysts, technical users, and model experts to understand what the model does, how it works, and what drives results—without running code.\n\n**Key Features:**\n- Run Browser (catalogue + detail pages)\n- LLM-powered Story Mode with narrative generation\n- Scenario Explorer with diff views\n- Data Explorer with traceability\n- Assumptions Browser\n- Agent Behaviour Inspector\n- Download Centre\n\n**Architecture:** Static-first (SvelteKit + Cloudflare/GitHub Pages), JSON for frontend, Parquet for downloads.\n\n**PRD:** docs/agentzero_web_app.md","status":"closed","priority":1,"issue_type":"epic","created_at":"2025-11-30T11:46:30.730097+11:00","updated_at":"2025-11-30T14:54:52.1359+11:00","closed_at":"2025-11-30T14:54:52.1359+11:00"}
{"id":"agent-zero-3qc","title":"Add commodities overview on Overview tab","description":"Derive commodities summary from timeseries: aggregate total supply and demand across all years for each commodity. Display on Overview tab a 'Commodities modeled' section with bar chart or list showing supply vs demand per commodity. Mark each as mostly produced, mostly consumed, or balanced. Link to Inputs tab filtered by commodity.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T18:47:44.157197+11:00","updated_at":"2025-12-01T07:30:51.518279+11:00","closed_at":"2025-12-01T07:30:51.518279+11:00"}
{"id":"agent-zero-3xn","title":"Implement story tools (Python functions)","description":"Create Python module with tool functions for LLM story generation.\n\n**Module:** src/agent_zero/story/tools.py\n\n**Tools (MCP-compatible function signatures):**\n1. get_headline_metrics(run_id) -\u003e dict\n   - Returns key numbers with units and context\n\n2. compare_scenarios(baseline_id, scenario_id) -\u003e dict\n   - Returns structured diff of two runs\n\n3. explain_agent_behaviour(run_id, agent_type) -\u003e dict\n   - Returns decision traces summary for agent type\n\n4. get_assumption_context(param, region, sector, tech) -\u003e dict\n   - Returns source, rationale, and related assumptions\n\n5. get_drivers(run_id) -\u003e list[dict]\n   - Returns ranked factors driving results\n\n6. get_caveats(run_id) -\u003e list[str]\n   - Returns applicable caveats and limitations\n\n**Requirements:**\n- Each tool reads from web bundle JSON files\n- Return structured data, not prose\n- Include units and sources in responses\n- Designed for Claude tool-calling\n\n**Depends on:** agent-zero-bh8 (story data products schema)\n\n**Effort:** L (4-6h)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-30T11:49:11.940403+11:00","updated_at":"2025-11-30T12:43:56.175363+11:00","closed_at":"2025-11-30T12:43:56.175363+11:00"}
{"id":"agent-zero-4b8","title":"Update tests for results_pack changes","description":"Update existing tests and add new ones for:\n\n1. write_run_bundle tests:\n   - Assert new timeseries columns: year, region, commodity, price, demand, supply, emissions, scenario_id, assumptions_id, run_id\n   - Assert new agent_states columns: year, agent_id, agent_type, region, capacity, investment, expected_price, other_state_vars\n   - Verify emissions not double-counted when aggregating per (year, region)\n   - Verify investment matches summed Action.invest\n   - Verify expected_price non-null for producers, null for others\n\n2. summary.json tests:\n   - Test cumulative_emissions, average_prices, investment_totals, peak_capacity, security_of_supply\n\n3. manifest.yaml tests:\n   - Verify all required fields present with correct types\n\nEffort: M-L (2-4h)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T10:23:21.642629+11:00","updated_at":"2025-11-30T10:34:15.123373+11:00","closed_at":"2025-11-30T10:34:15.123373+11:00","dependencies":[{"issue_id":"agent-zero-4b8","depends_on_id":"agent-zero-98j","type":"blocks","created_at":"2025-11-30T10:23:21.644275+11:00","created_by":"gre538"},{"issue_id":"agent-zero-4b8","depends_on_id":"agent-zero-ar9","type":"blocks","created_at":"2025-11-30T10:23:21.645056+11:00","created_by":"gre538"},{"issue_id":"agent-zero-4b8","depends_on_id":"agent-zero-9gj","type":"blocks","created_at":"2025-11-30T10:23:21.645609+11:00","created_by":"gre538"},{"issue_id":"agent-zero-4b8","depends_on_id":"agent-zero-m96","type":"blocks","created_at":"2025-11-30T10:23:21.646154+11:00","created_by":"gre538"}]}
{"id":"agent-zero-4w9","title":"Create LLM story generator with tool calling","description":"Implement agentic story generator using Claude with tool calling.\n\n**Module:** src/agent_zero/story/generator.py\n\n**Features:**\n1. StoryGenerator class that:\n   - Takes run_id and audience (generalist/technical/expert)\n   - Calls story tools to gather data\n   - Generates narrative using Claude\n   - Returns Markdown with inline citations\n\n2. Story template/prompt:\n   - Executive Summary (1 paragraph)\n   - Key Findings (3-5 bullets)\n   - What Drives Results (2-3 paragraphs + chart refs)\n   - How Agents Behave (summary)\n   - Scenario Impact (if applicable)\n   - Caveats \u0026 Limitations\n\n3. Provenance tracking:\n   - Log which tools were called\n   - Store tool outputs alongside story\n   - Include generation timestamp and model version\n\n**Dependencies:**\n- anthropic SDK for Claude API\n- Story tools module\n\n**Depends on:** agent-zero-3xn (story tools)\n\n**Effort:** L (4-6h)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-30T11:49:26.420575+11:00","updated_at":"2025-11-30T12:59:25.654979+11:00","closed_at":"2025-11-30T12:59:25.654979+11:00"}
{"id":"agent-zero-5w0","title":"Fix scenario_diff.json placeholder behavior","description":"**Problem:**\n`export_web.py` always writes `scenario_diff.json = []` regardless of run type, which contradicts docs and causes misleading UX for scenario runs.\n\n**Current behavior:**\n- For baseline runs: `manifest.scenario` is `null`, UI shows 'baseline run' message (correct)\n- For scenario runs: `manifest.scenario` is non-null, but `diffs.length === 0` → UI says 'No differences found; scenario matches baseline' (MISLEADING when we simply have not computed diffs)\n\n**Required changes:**\n\n1. **Stop writing scenario_diff.json for baseline runs** in export_web_bundle - only write for scenario runs\n2. **Update frontend** to distinguish between file missing (404) vs empty array ([])\n3. **Update tests** to verify baseline runs don't create scenario_diff.json\n\n**Files to modify:**\n- src/agent_zero/post/export_web.py\n- web/src/routes/runs/[run_id]/diff/+page.svelte (if needed)\n- tests/unit/io/test_export_web.py\n\n**Effort:** S (1-2h)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T11:08:53.538431+11:00","updated_at":"2025-12-01T11:25:07.574057+11:00","closed_at":"2025-12-01T11:25:07.574057+11:00"}
{"id":"agent-zero-5yd","title":"Add TypeScript contract tests for web bundle types","description":"**Goal:**\nAdd frontend tests that verify JSON fixtures can be assigned to TypeScript types, catching schema drift early.\n\n**Implementation:**\n\n1. **Create test fixtures directory:**\n   `web/tests/fixtures/web_bundle/` containing sample JSON files exported by `export_web_bundle`\n\n2. **Add Vitest contract tests** in `web/tests/types.test.ts`:\n\n```typescript\nimport type { WebBundle, Manifest, Summary, Timeseries, Agents, AgentTraces, AssumptionsUsed, Drivers } from '$lib/types';\nimport manifest from './fixtures/web_bundle/manifest.json';\nimport summary from './fixtures/web_bundle/summary.json';\nimport timeseries from './fixtures/web_bundle/timeseries.json';\nimport agents from './fixtures/web_bundle/agents.json';\nimport agent_traces from './fixtures/web_bundle/agent_traces.json';\nimport assumptions_used from './fixtures/web_bundle/assumptions_used.json';\nimport drivers from './fixtures/web_bundle/drivers.json';\n\ndescribe('Web bundle type contracts', () =\u003e {\n  it('manifest matches Manifest type', () =\u003e {\n    const m: Manifest = manifest;\n    expect(m.run_id).toBeDefined();\n    expect(m.years.start).toBeDefined();\n  });\n\n  it('full bundle can be constructed', () =\u003e {\n    const bundle: WebBundle = {\n      manifest,\n      summary,\n      timeseries,\n      agents,\n      agent_traces,\n      assumptions_used,\n      drivers\n    };\n    expect(bundle.manifest.run_id).toBeDefined();\n  });\n});\n```\n\n3. **Add to CI:** Run `pnpm test` in web directory\n\n**Benefits:**\n- TypeScript compilation will fail if types drift from actual JSON structure\n- Early detection of schema mismatches between Python exports and TS expectations\n\n**Files to create/modify:**\n- web/tests/fixtures/web_bundle/*.json (sample fixtures)\n- web/tests/types.test.ts\n- web/package.json (add vitest if not present)\n\n**Effort:** M (2-4h)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-01T11:12:43.255614+11:00","updated_at":"2025-12-01T12:20:49.082356+11:00","closed_at":"2025-12-01T12:20:49.082356+11:00"}
{"id":"agent-zero-5zy","title":"Implement Story Mode view","description":"Create Story Mode page in web app.\n\n**Route:** /runs/{run_id}/story\n\n**Features:**\n1. **Scroll-based narrative**\n   - Render story.md as styled HTML\n   - Sticky navigation for sections\n   - Smooth scroll between sections\n\n2. **Embedded charts**\n   - Parse chart references in markdown (e.g., {{chart:emissions}})\n   - Render inline D3 charts\n\n3. **Deep links**\n   - 'Learn more' links to Data Explorer, Assumptions, Agents\n   - Tooltip previews on hover\n\n4. **Provenance footer**\n   - Show generation date, model used\n   - Link to story_provenance.json\n\n5. **Regenerate button** (future: if backend exists)\n\n**Components:**\n- StoryRenderer.svelte\n- StorySectionNav.svelte\n- InlineChart.svelte\n- ProvenanceFooter.svelte\n\n**Depends on:** agent-zero-swu (generate-story CLI)\n\n**Effort:** L (4-6h)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-30T11:49:53.634303+11:00","updated_at":"2025-11-30T13:22:03.733068+11:00","closed_at":"2025-11-30T13:22:03.733068+11:00"}
{"id":"agent-zero-8aq","title":"Add CLI command: agentzero validate-results","description":"Add new CLI subcommand to src/agent_zero/cli.py:\n\nagentzero validate-results \u003crun_dir\u003e\n\nBehavior:\n- Load timeseries.parquet (fallback .csv), agent_states.parquet, summary.json, manifest.yaml\n- Run validation via results_validation module\n- Print human-readable report of issues\n- Exit 0 if only warnings, exit 1 if any errors\n\nEffort: M (1-3h)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-30T10:23:07.438104+11:00","updated_at":"2025-11-30T10:37:36.185881+11:00","closed_at":"2025-11-30T10:37:36.185881+11:00","dependencies":[{"issue_id":"agent-zero-8aq","depends_on_id":"agent-zero-am6","type":"blocks","created_at":"2025-11-30T10:23:07.440447+11:00","created_by":"gre538"}]}
{"id":"agent-zero-8zk","title":"Implement basic Data Explorer","description":"Create initial Data Explorer with core charts.\n\n**Route:** /runs/{run_id}/data\n\n**Features:**\n1. **Chart Section**\n   - Line chart: Total emissions over years\n   - Line chart: Capacity by agent type over years\n   - Line chart: Prices by commodity over years\n   - Built with D3.js\n\n2. **Filters**\n   - Region dropdown\n   - Sector dropdown\n   - Tech dropdown\n   - Year range slider\n\n3. **Table View Toggle**\n   - Switch between chart and raw data table\n   - Table shows timeseries.json data\n   - Sortable columns\n\n**Components:**\n- TimeseriesChart.svelte (D3-based)\n- FilterBar.svelte\n- DataTable.svelte\n- ViewToggle.svelte\n\n**Depends on:** agent-zero-2ha (Run Detail)\n\n**Effort:** L (4-6h)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-30T11:48:29.976453+11:00","updated_at":"2025-11-30T12:29:19.699626+11:00","closed_at":"2025-11-30T12:29:19.699626+11:00"}
{"id":"agent-zero-98j","title":"Refactor timeseries.parquet to long format","description":"**Current:** Wide format - one row per year with price_*, demand_*, flow columns.\n**Target:** Long format - one row per (year, region, commodity).\n\nTasks:\n- Derive supply per (region, commodity) from Action.supply dict\n- Add columns: region, commodity, price, demand, supply, emissions, scenario_id, assumptions_id, run_id\n- Remove old price_*, demand_*, flow_* columns\n- emissions is system-level per (year, region), repeated per commodity row\n- Exclude carbon price (policy param, not commodity)\n\nEffort: M (1-3h)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-30T10:21:28.413711+11:00","updated_at":"2025-11-30T10:26:23.390988+11:00","closed_at":"2025-11-30T10:26:23.390988+11:00"}
{"id":"agent-zero-9gj","title":"Extend summary.json with headline metrics","description":"**Current fields:** run_id, created, peak_emissions, year_net_zero\n**Add:**\n- cumulative_emissions: sum of annual emissions (tCO2e)\n- average_prices: mean price by commodity (USD/MWh)\n- investment_totals: {total, by_agent_type} (MW)\n- peak_capacity: max capacity by agent type (MW)\n- security_of_supply: per-commodity {shortage_frequency, min_supply_demand_ratio}\n\nDepends on refactored timeseries (for supply/demand) and agent_states (for investment).\n\nEffort: M (1-3h)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-30T10:22:18.783726+11:00","updated_at":"2025-11-30T10:30:32.623464+11:00","closed_at":"2025-11-30T10:30:32.623464+11:00","dependencies":[{"issue_id":"agent-zero-9gj","depends_on_id":"agent-zero-98j","type":"blocks","created_at":"2025-11-30T10:22:18.785806+11:00","created_by":"gre538"},{"issue_id":"agent-zero-9gj","depends_on_id":"agent-zero-ar9","type":"blocks","created_at":"2025-11-30T10:22:18.786529+11:00","created_by":"gre538"}]}
{"id":"agent-zero-ae6","title":"Implement click-through traceability","description":"Add traceability links throughout the web app.\n\n**Click-through paths:**\n1. Chart point → Data Explorer filtered to that series\n2. Timeseries row → Assumptions Browser (region, sector, tech, param, year)\n3. Assumption → Scenario patches that modified it\n4. Story finding → Supporting data in Data Explorer\n5. Agent action → Assumptions used in decision\n\n**Implementation:**\n1. Add data attributes to chart elements with dimension keys\n2. Build URL helper functions for constructing filter URLs\n3. Add hover tooltips with 'View details' links\n4. Implement deep linking with query params\n\n**Components:**\n- TraceabilityTooltip.svelte\n- url.ts (URL construction utilities)\n\n**Updates to existing components:**\n- TimeseriesChart: add click handlers\n- DataTable: add assumption links\n- StoryRenderer: add data links\n\n**Effort:** M-L (3-5h)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-30T11:50:52.106136+11:00","updated_at":"2025-11-30T14:19:49.429348+11:00","closed_at":"2025-11-30T14:19:49.429348+11:00"}
{"id":"agent-zero-am6","title":"Implement results validation module","description":"Create src/agent_zero/post/results_validation.py with:\n- ValidationIssue dataclass: {level: error|warning, location, message}\n- validate_timeseries(df, schema) -\u003e list[ValidationIssue]\n- validate_agent_states(df, schema) -\u003e list[ValidationIssue]\n- validate_summary(summary_dict, schema)\n- validate_manifest(manifest_dict, schema)\n- validate_bundle(run_dir) -\u003e combined validation\n\nChecks:\n- Column presence and dtype\n- Range constraints (non-negative values)\n- Required fields in JSON/YAML\n- Semantic warnings (negative emissions)\n\nEffort: L (3-5h)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-30T10:22:56.662899+11:00","updated_at":"2025-11-30T10:36:09.679461+11:00","closed_at":"2025-11-30T10:36:09.679461+11:00","dependencies":[{"issue_id":"agent-zero-am6","depends_on_id":"agent-zero-1ai","type":"blocks","created_at":"2025-11-30T10:22:56.664641+11:00","created_by":"gre538"}]}
{"id":"agent-zero-ar9","title":"Restructure agent_states.parquet to new schema","description":"**Current columns:** year, agent_id, agent_type, region, sector, tech, capacity, cash, horizon\n**Target columns:** year, agent_id, agent_type, region, capacity, investment, expected_price, other_state_vars\n\nTasks:\n- Add investment: sum(Action.invest.values()) per agent from actions list\n- Add expected_price: from Action.expected_price (requires agent-zero-ydg)\n- Move sector, tech, cash, horizon, vintage, params into other_state_vars JSON blob\n\nEffort: S-M (1-2h)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-30T10:22:05.885285+11:00","updated_at":"2025-11-30T10:28:33.414932+11:00","closed_at":"2025-11-30T10:28:33.414932+11:00","dependencies":[{"issue_id":"agent-zero-ar9","depends_on_id":"agent-zero-ydg","type":"blocks","created_at":"2025-11-30T10:22:05.887502+11:00","created_by":"gre538"}]}
{"id":"agent-zero-bh8","title":"Define story data products and schemas","description":"Define structured data products that feed LLM story generation.\n\n**Data Products:**\n1. **summary.json** (already exists, extend)\n   - total_emissions, cumulative_emissions\n   - total_capacity, peak_capacity\n   - total_cost, average_cost\n   - delta_from_baseline (if scenario run)\n\n2. **drivers.json** (new)\n   - Array of {factor, contribution, direction, explanation}\n   - e.g., [{factor: 'carbon_price', contribution: 0.4, direction: 'up', explanation: '...'}]\n\n3. **agent_summary.json** (new)\n   - invest_count, retire_count, hold_count\n   - dominant_action by agent_type\n   - behaviour_pattern: string description\n\n4. **scenario_diff.json** (new)\n   - Array of {param, baseline_value, scenario_value, delta, rationale}\n   - Computed from baseline vs scenario assumptions\n\n**Schema location:** docs/story_data_products_schema.md\n\n**Effort:** M (2-3h)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T11:48:56.337986+11:00","updated_at":"2025-11-30T12:36:07.502214+11:00","closed_at":"2025-11-30T12:36:07.502214+11:00"}
{"id":"agent-zero-brg","title":"Add existing vs new agent classification on Agents tab","description":"Classify agents as 'Existing asset' (vintage \u003c base year AND initial_capacity \u003e 0) vs 'New-build only'. Show counters above the agent grid: 'Existing assets: X agents, Y MW initial capacity' and 'New-build only: A agents'. Add visual indicator (badge/icon) in AgentList rows.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T18:46:50.078723+11:00","updated_at":"2025-11-30T20:04:51.640757+11:00","closed_at":"2025-11-30T20:04:51.640757+11:00"}
{"id":"agent-zero-cpf","title":"Add timestep/resolution indicator derived from timeseries","description":"Compute unique years from timeseries data and infer resolution (annual, 5-year, irregular). Display in MetadataPanel on Overview: 'Time resolution: Annual (26 model years from 2025-2050)' or 'Every 5 years (2025, 2030, ...)' or 'Irregular (years: 2025, 2027, 2032, ...)'. Also show brief indicator at top of Results tab.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T18:46:30.243973+11:00","updated_at":"2025-11-30T19:12:27.920555+11:00","closed_at":"2025-11-30T19:12:27.920555+11:00"}
{"id":"agent-zero-cvl","title":"Assumptions Page: Oversized and misaligned search icon","description":"","status":"closed","priority":3,"issue_type":"bug","created_at":"2025-12-01T14:33:21.077091+11:00","updated_at":"2025-12-01T14:45:28.969908+11:00","closed_at":"2025-12-01T14:45:28.969908+11:00"}
{"id":"agent-zero-d41","title":"Implement Assumptions Browser","description":"Create global and run-scoped assumptions browser.\n\n**Routes:**\n- /assumptions (global)\n- /assumptions/{pack} (pack detail)\n- /runs/{run_id}/assumptions (run-scoped)\n\n**Features:**\n1. **Search \u0026 Filter**\n   - Full-text search across param names and descriptions\n   - Filter by: region, sector, tech, param, year, pack\n   - Clear filters button\n\n2. **Assumption Cards/Table**\n   - Parameter name and value with unit\n   - Region, sector, tech, year\n   - Uncertainty band\n   - Source/rationale (from GLOSSARY.md)\n   - Semantic warnings (out of range, deprecated)\n\n3. **Click-through Links**\n   - Which runs use this assumption\n   - Which scenario patches modify it\n   - Link to related parameters\n\n4. **Pack Detail View**\n   - Pack metadata (version, created, description)\n   - All assumptions in pack\n   - Download pack as zip\n\n**Data sources:**\n- assumptions_used.json (per run)\n- Assumptions pack manifests\n\n**Components:**\n- AssumptionSearch.svelte\n- AssumptionCard.svelte\n- AssumptionTable.svelte\n- PackDetail.svelte\n\n**Effort:** L (4-6h)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-30T11:50:37.21932+11:00","updated_at":"2025-11-30T13:59:49.576481+11:00","closed_at":"2025-11-30T13:59:49.576481+11:00"}
{"id":"agent-zero-e93","title":"Rename Diff tab to Scenario Levers with category grouping","description":"Rename 'Diff' tab to 'Scenario Levers' (or 'Scenario vs Baseline'). Add top-level copy explaining these are the parameters that differ from baseline. Group ScenarioDiffRows by concept (demand levers, supply/tech levers, policy levers) using heuristic param name matching. Show top 5 levers by delta_pct at the top with category badges.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T18:46:00.614314+11:00","updated_at":"2025-11-30T19:21:42.828286+11:00","closed_at":"2025-11-30T19:21:42.828286+11:00"}
{"id":"agent-zero-giy","title":"Implement agentzero export-web CLI command","description":"Add CLI command to export a run bundle for web consumption.\n\n**Command:**\n```bash\nagentzero export-web --run-dir runs/\u003crun_id\u003e --out web/runs/\u003crun_id\u003e\n```\n\n**Output structure:**\n```\nweb/runs/\u003crun_id\u003e/\n├── manifest.json\n├── summary.json\n├── timeseries.json\n├── agents.json\n├── agent_traces.json\n├── assumptions_used.json\n├── scenario_diff.json (if scenario run)\n├── drivers.json\n└── downloads/\n    ├── timeseries.parquet (symlink or copy)\n    └── agent_states.parquet\n```\n\n**Implementation:**\n1. Add export_web.py module in src/agent_zero/post/\n2. Read existing Parquet files and convert to JSON\n3. Generate reproduction CLI command string\n4. Compute drivers (placeholder logic for v1)\n5. Add CLI command in cli.py\n\n**Depends on:** agent-zero-pem (web bundle schema)\n\n**Effort:** L (4-6h)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-30T11:47:11.537614+11:00","updated_at":"2025-11-30T12:15:09.35244+11:00","closed_at":"2025-11-30T12:15:09.35244+11:00"}
{"id":"agent-zero-jcy","title":"Add demand drivers panel with grouping","description":"In Inputs \u0026 Assumptions tab, add a 'Demand \u0026 Activity Drivers' panel. Use heuristic param name matching (params containing 'demand', 'activity', 'final_demand', 'export') to identify demand parameters. Show filtered view with sparklines or mini line charts per demand series over time. Highlight params that appear in drivers[].related_params.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T18:47:31.448227+11:00","updated_at":"2025-11-30T20:44:16.874773+11:00","closed_at":"2025-11-30T20:44:16.874773+11:00"}
{"id":"agent-zero-jzz","title":"Extend agent states to include decision traces","description":"Extend agent_states output to include full decision traces for Agent Inspector.\n\n**Current state:** agent_states.parquet has year, agent_id, capacity, investment, expected_price, other_state_vars\n\n**Required additions:**\n- action: string (invest, retire, hold, regulate, consume)\n- action_inputs: JSON blob with inputs to decision\n  - For producers: {prices, capacity, costs, horizon, discount_rate}\n  - For regulator: {carbon_price, year}\n  - For consumer: {demand}\n- state_before: JSON blob of state at start of year\n- state_after: JSON blob of state at end of year\n\n**Changes:**\n1. Update simulate.py to capture pre/post state\n2. Update agents.py to return decision inputs from decide()\n3. Update results_pack.py to write new columns\n4. Update results.schema.json\n\n**Effort:** M-L (3-5h)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-30T11:47:26.317519+11:00","updated_at":"2025-11-30T12:03:37.934527+11:00","closed_at":"2025-11-30T12:03:37.934527+11:00"}
{"id":"agent-zero-m96","title":"Restructure manifest.yaml to new lineage schema","description":"**Current:** run_id, assumptions_manifest, scenario_manifest\n**Target:**\n- run_id, run_timestamp, engine_version (from agent_zero.__version__)\n- seed (passed as new param), years (from ts_df)\n- assumptions: {id, hash, version}\n- scenario: {id, hash, version} or null\n- schema_versions: {assumptions, scenario, results}\n- units: static object with column-\u003eunit mappings\n\nTasks:\n- Add seed parameter to write_run_bundle\n- Import and use ENGINE_VERSION\n- Normalize manifest refs to {id, hash, version}\n- Define UNITS constant\n\nEffort: M (1-3h)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-30T10:22:32.280744+11:00","updated_at":"2025-11-30T10:28:38.603854+11:00","closed_at":"2025-11-30T10:28:38.603854+11:00","dependencies":[{"issue_id":"agent-zero-m96","depends_on_id":"agent-zero-98j","type":"blocks","created_at":"2025-11-30T10:22:32.282422+11:00","created_by":"gre538"}]}
{"id":"agent-zero-n3p","title":"Implement Agent Detail view","description":"Create agent detail page with decision traces.\n\n**Route:** /runs/{run_id}/agents/{agent_id}\n\n**Sections:**\n1. **Identity Panel**\n   - Agent ID, type, region, sector, tech\n   - Initial configuration (capacity, parameters)\n\n2. **Configuration**\n   - Foresight horizon\n   - Discount rate\n   - Decision rule name + description\n\n3. **Decision Rule Explanation**\n   - Human-readable explanation of how agent decides\n   - From agent type documentation or code metadata\n   - Pseudocode or flowchart (optional)\n\n4. **Decision Trace Timeline**\n   - Year-by-year visualization\n   - For each year show:\n     - State at start (capacity, cash)\n     - Decision inputs (prices, costs, expected returns)\n     - Action taken (invest X MW, retire, hold)\n     - State at end\n   - Interactive: click year for details\n\n5. **Assumptions Used**\n   - List assumptions that influenced this agent\n   - Links to Assumptions Browser\n\n**Data sources:**\n- agents.json (config)\n- agent_traces.json (decisions)\n\n**Components:**\n- AgentIdentityPanel.svelte\n- AgentConfigPanel.svelte\n- DecisionRuleExplainer.svelte\n- DecisionTimeline.svelte (D3 timeline)\n- AgentAssumptionsList.svelte\n\n**Effort:** L-XL (6-10h)","status":"closed","priority":2,"issue_type":"feature","created_at":"2025-11-30T11:51:21.24211+11:00","updated_at":"2025-11-30T14:53:11.679469+11:00","closed_at":"2025-11-30T14:53:11.679469+11:00"}
{"id":"agent-zero-njd","title":"Add base-year capacity and activity from agent traces","description":"Filter agent_traces to year === manifest.years.start to get base-year state. Show in AgentList: columns or tooltip for 'Base-year capacity' and 'Base-year production' (aggregated from state_after.supply). In agent detail page, add 'Base-year snapshot' card showing capacity, supply by commodity, emissions for the first year.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T18:47:09.544907+11:00","updated_at":"2025-11-30T20:20:33.712021+11:00","closed_at":"2025-11-30T20:20:33.712021+11:00"}
{"id":"agent-zero-pem","title":"Define web bundle JSON schemas","description":"Create docs/web_bundle_schema.md defining JSON schemas for web consumption.\n\n**Files to define:**\n- manifest.json: run metadata, IDs, hashes, reproduction command\n- summary.json: headline metrics (emissions, capacity, cost, deltas)\n- timeseries.json: denormalised timeseries for charts\n- agents.json: agent catalogue with configs\n- agent_traces.json: decision traces per agent\n- assumptions_used.json: assumptions relevant to this run\n- scenario_diff.json: diff from baseline (if scenario run)\n- drivers.json: ranked factors driving results\n- runs/index.json: catalogue of all runs\n\n**Requirements:**\n- Include TypeScript interfaces for frontend consumption\n- Define validation rules (required fields, types, ranges)\n- Align with existing Parquet schemas\n\n**Effort:** M (2-4h)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T11:46:57.731185+11:00","updated_at":"2025-11-30T11:56:37.898233+11:00","closed_at":"2025-11-30T11:56:37.898233+11:00"}
{"id":"agent-zero-qe8","title":"Rename Assumptions tab to Inputs \u0026 Assumptions with grouped sections","description":"Rename 'Assumptions' tab to 'Inputs \u0026 Assumptions'. Reorganize the page into conceptual sections: (1) Model Setup summary cards (agents enabled, commodities modeled), (2) Grouped parameters by category using heuristic name matching (demand/activity drivers, techno-economic/physics, policy/price signals), (3) Raw parameter table with filters. Add clarifying copy that this shows input assumptions.","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T18:45:43.562548+11:00","updated_at":"2025-11-30T20:28:18.657096+11:00","closed_at":"2025-11-30T20:28:18.657096+11:00"}
{"id":"agent-zero-qmx","title":"Document drivers.json placeholder behavior","description":"**Context:**\n`export_web.py` writes `drivers.json = []` as a placeholder. This is intentional - the frontend shows 'No drivers data available. Run story generation to populate.' which is correct behavior.\n\n**However**, this placeholder behavior should be explicitly documented.\n\n**Tasks:**\n1. Add comment in `export_web.py` explaining the placeholder is intentional\n2. Update `docs/web_bundle_schema.md` to clarify:\n   - `drivers.json` may initially be `[]`\n   - After story generation or driver analysis, it will contain ranked drivers\n   - Empty array is valid and means 'not yet generated'\n\n3. Optionally add inline comment in TypeScript types\n\n**Files to modify:**\n- src/agent_zero/post/export_web.py (add comment)\n- docs/web_bundle_schema.md (clarify behavior)\n\n**Effort:** XS (30min)","status":"closed","priority":3,"issue_type":"task","created_at":"2025-12-01T11:16:17.520285+11:00","updated_at":"2025-12-01T12:46:58.161596+11:00","closed_at":"2025-12-01T12:46:58.161596+11:00"}
{"id":"agent-zero-rdd","title":"Compare Page: Low contrast title and description text","description":"","status":"closed","priority":1,"issue_type":"bug","created_at":"2025-12-01T14:32:59.704915+11:00","updated_at":"2025-12-01T14:40:01.876271+11:00","closed_at":"2025-12-01T14:40:01.876271+11:00"}
{"id":"agent-zero-reg","title":"Deploy placeholder to Cloudflare/GitHub Pages","description":"Set up CI/CD for automatic deployment of web app.\n\n**Tasks:**\n1. Add GitHub Actions workflow for building SvelteKit\n2. Configure deployment to Cloudflare Pages or GitHub Pages\n3. Deploy placeholder 'coming soon' page\n4. Set up preview deployments for PRs\n\n**Workflow:**\n- On push to main: build and deploy to production\n- On PR: build and deploy preview\n\n**Depends on:** agent-zero-vyl (SvelteKit setup)\n\n**Effort:** S-M (1-2h)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-11-30T11:47:51.5411+11:00","updated_at":"2025-11-30T12:17:46.403856+11:00","closed_at":"2025-11-30T12:17:46.403856+11:00"}
{"id":"agent-zero-so2","title":"Add Python shape validators for web bundle exports","description":"**Goal:**\nAdd Python-side shape validators in tests to ensure exported JSON files match the TypeScript types expected by the frontend.\n\n**Implementation:**\n\nCreate shape validation helpers in `tests/unit/io/test_export_web.py`:\n\n```python\ndef _assert_manifest_shape(m: dict) -\u003e None:\n    assert isinstance(m['run_id'], str)\n    assert isinstance(m['created_at'], str)\n    assert isinstance(m['engine_version'], str)\n    assert isinstance(m['years'], dict)\n    assert 'start' in m['years'] and 'end' in m['years']\n    assert isinstance(m['assumptions'], dict)\n    assert 'id' in m['assumptions']\n    # scenario can be None or dict\n    # units, schema_versions...\n\ndef _assert_summary_shape(s: dict) -\u003e None:\n    assert isinstance(s['run_id'], str)\n    assert 'cumulative_emissions' in s\n    assert 'peak_emissions' in s\n    assert 'year_net_zero' in s\n\ndef _assert_timeseries_shape(rows: list[dict]) -\u003e None:\n    for row in rows:\n        assert 'year' in row and 'region' in row\n        assert 'commodity' in row and 'price' in row\n        assert 'demand' in row and 'supply' in row\n\ndef _assert_agents_shape(agents: list[dict]) -\u003e None:\n    for a in agents:\n        assert 'agent_id' in a and 'agent_type' in a\n        assert 'region' in a and 'initial_capacity' in a\n\ndef _assert_assumptions_used_shape(rows: list[dict]) -\u003e None:\n    for row in rows:\n        assert 'param' in row and 'year' in row\n        assert 'value' in row and 'unit' in row\n\ndef _assert_drivers_shape(drivers: list[dict]) -\u003e None:\n    for d in drivers:\n        assert 'factor' in d and 'direction' in d\n        assert isinstance(d.get('related_params', []), list)\n        assert isinstance(d.get('related_agents', []), list)\n```\n\n**Tests to add:**\n1. After `export_web_bundle`, load each JSON file and run shape assertions\n2. Test that assumptions_used.json is non-empty for runs with valid packs\n3. Test graceful fallback when packs are missing\n\n**Files to modify:**\n- tests/unit/io/test_export_web.py\n\n**Effort:** M (2-3h)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-12-01T11:11:36.606569+11:00","updated_at":"2025-12-01T11:55:21.008171+11:00","closed_at":"2025-12-01T11:55:21.008171+11:00"}
{"id":"agent-zero-swu","title":"Implement agentzero generate-story CLI","description":"Add CLI command for story generation.\n\n**Command:**\n```bash\nagentzero generate-story --run-dir runs/\u003crun_id\u003e --audience generalist|technical|expert --out web/runs/\u003crun_id\u003e/story.md\n```\n\n**Behavior:**\n1. Load web bundle from run directory\n2. Initialize StoryGenerator with audience\n3. Generate story via LLM tool calling\n4. Write story.md to output location\n5. Write story_provenance.json with:\n   - Generation timestamp\n   - Model used\n   - Tools called and their outputs\n   - Run ID and audience\n\n**Options:**\n- --audience: generalist (default), technical, expert\n- --out: output path (default: adjacent to run)\n- --regenerate: force regeneration even if exists\n\n**Depends on:** agent-zero-4w9 (story generator)\n\n**Effort:** M (2-3h)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-30T11:49:39.521424+11:00","updated_at":"2025-11-30T13:06:54.325101+11:00","closed_at":"2025-11-30T13:06:54.325101+11:00"}
{"id":"agent-zero-uxb","title":"Implement Download Centre","description":"Create download page for raw artefacts.\n\n**Route:** /runs/{run_id}/download\n\n**Features:**\n- List all downloadable files:\n  - manifest.yaml\n  - timeseries.parquet\n  - agent_states.parquet\n  - summary.json\n  - Assumptions pack (zip)\n  - Scenario pack (zip, if applicable)\n- Show file sizes and checksums\n- Direct download links\n- 'Download All' button (zip bundle)\n\n**Components:**\n- DownloadList.svelte\n- DownloadItem.svelte (file name, size, checksum, button)\n\n**Depends on:** agent-zero-2ha (Run Detail)\n\n**Effort:** S-M (1-2h)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-30T11:48:42.488608+11:00","updated_at":"2025-11-30T12:32:13.291484+11:00","closed_at":"2025-11-30T12:32:13.291484+11:00"}
{"id":"agent-zero-vyl","title":"Set up SvelteKit project with static adapter","description":"Initialize SvelteKit project for the web application.\n\n**Setup:**\n1. Create web/ directory in repo root\n2. Initialize SvelteKit project with static adapter\n3. Configure for Cloudflare Pages / GitHub Pages deployment\n4. Set up Tailwind CSS for styling\n5. Add D3.js for charts\n6. Configure TypeScript\n\n**Structure:**\n```\nweb/\n├── src/\n│   ├── lib/\n│   │   ├── components/\n│   │   ├── stores/\n│   │   └── types/  (from web bundle schema)\n│   └── routes/\n│       ├── +page.svelte (home/run catalogue)\n│       ├── runs/\n│       │   └── [run_id]/\n│       ├── assumptions/\n│       ├── scenarios/\n│       └── compare/\n├── static/\n│   └── runs/  (web bundles go here)\n├── svelte.config.js\n├── package.json\n└── tsconfig.json\n```\n\n**Effort:** M (2-4h)","status":"closed","priority":1,"issue_type":"task","created_at":"2025-11-30T11:47:40.179232+11:00","updated_at":"2025-11-30T12:07:53.532581+11:00","closed_at":"2025-11-30T12:07:53.532581+11:00"}
{"id":"agent-zero-ydg","title":"Add expected_price to Action dataclass","description":"**Gap:** expected_price is computed in decisions._forecast_prices() but not persisted.\n\n**Changes:**\n1. Extend Action in types.py with: expected_price: float | None = None\n2. In decisions.decide() for producers: compute mean(price_forecast) and pass to Action\n3. For Regulator/IndustrialConsumer: return expected_price=None\n\nThis is a prerequisite for agent_states restructuring.\n\nEffort: M (1-2h)","status":"closed","priority":1,"issue_type":"feature","created_at":"2025-11-30T10:21:53.296873+11:00","updated_at":"2025-11-30T10:26:18.213141+11:00","closed_at":"2025-11-30T10:26:18.213141+11:00"}
